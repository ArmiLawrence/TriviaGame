<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta charset="UTF-8">
  <title>Trivia Game</title>
  <!-- Added link to the jQuery Library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <!-- Bootstrap File -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="assets/css/style.css">
</head>
  <!-- Overall Bootstrap Grid -->
  
<div class="container">
        <!-- Jumbotron with Title -->
    <div class="bg-primary jumbotron">
                <h1 class="text-center">
                <strong>Wonderful World of Disney!</strong>
                    <hr>      
                </h1>
                <div id="display">00:10</div>
                    <hr>
                <div class="text-center">
                    <button id="start" class = "btn btn-secondary">Start Game</button>
                </div>                
        <hr>
                <div class="row">
                        <div class="col-sm-6">              
                            <p >Correct: <span id="correct-text"></span></p>
                        </div>
                        <div class="col-sm-6">  
                            <p >Wrong: <span id="wrong-text"></span></p>
                        </div>
                        <div class="col-sm-6">  
                            <p>Final Score: <span id="finalScore-text"></span></p>
                        </div>
                    </div>        
    </div>
</div>

<div class="container">
    <div class="bg-info jumbotron">
        <div id="instructions" class="text-center">
            <p id="question-text">Question?</p>
                <p>
                    <radio id="a-text" class = "btn btn-primary answer">a</radio>
                </p>
                <p>
                    <radio id="b-text" class = "btn btn-primary answer">b</radio>
                </p>
                <p>
                    <radio id="c-text" class = "btn btn-primary answer">c</radio>
                </p>                  
                <p>
                    <button id="reset" class = "btn btn-secondary">Reset</button>
                </p>   



        </div>               
    </div>  
</div>

 

<!--<script type="text/javascript" src="assets/javascript/app.js">-->
<script>

//VARIABLES

//QUESTIONS FOR THE GAME
// We start the game with a score of 0.
var correct = 0;
var wrong = 0;
var questionIndex = 0;


// Let's write things on the page
$("#correct-text").text(correct);
$("#wrong-text").text(wrong);


var quizQuestions = [
    {
        question: "Who is the first king in Lion King?",
        answers: {
            a: "Scar",
            b: "Mufasa",
            c: "Simba"
        },
        correctAnswer: "Mufasa"
    },
    {
        question: "Who is Ariel's guardian in Little Mermaid?",
        answers: {
            a: "Scuttle",
            b: "Ursula",
            c: "Sebastian"
        },
        correctAnswer: "Sebastian"
    },
    {
        question: "What was the name of the little boy in Beauty and the Beast?",
        answers: {
            a: "Chip",
            b: "Featherduster",
            c: "LeFou"
        },
        correctAnswer: "Chip"
    },
    {
        question: "Where is the setting of The Princess and the Frog?",
        answers: {
            a: "Paris",
            b: "New Orleans",
            c: "New York City"
        },
        correctAnswer: "New Orleans"
    },
    {
        question: "How did Aladdin get out of the Cave of Wonders?",
        answers: {
            a: "Apu turned into an elephant",
            b: "Genie carried them",
            c: "Rode on Magic Carpet"
        },
        correctAnswer: "Rode on Magic Carpet"
    }
]

   
// VARIABLES FOR THE WATCH
//  Variable that will hold our setInterval that runs the stopwatch
var intervalId;
// prevents the clock from being sped up unnecessarily
var clockRunning = false;


// OUR WATCH OBJECT -- 
// HAS VARIABLES AND FUNCTIONS FOR STARTING AND STOPPING THE WATCH
var watch = {

  time: 10,

  reset: function() {

    watch.time = 10;
    clockRunning = false;
    clearInterval(intervalId);
    // DONE: Change the "display" div to "00:00."
    $("#display").text("00:10");


  },
  start: function() {

    // DONE: Use setInterval to start the count here and set the clock to running.
    if (!clockRunning) {

        intervalId = setInterval(watch.count, 1000);
        clockRunning = true;     
        setTimeout(function() {clearInterval(intervalId)}, 1000 * 10); 
    } 
  },
  stop: function() {

    // DONE: Use clearInterval to stop the count here and set the clock to not be running.
    clearInterval(intervalId);
    clockRunning = false;
  },
  count: function() {

    // DONE: decrement time by 1, remember we cant use "this" here.
    watch.time--;
    

    // DONE: Get the current time, pass that into the stopwatch.timeConverter function,
    //       and save the result in a variable.
    var converted = watch.timeConverter(watch.time);
    console.log(converted);

    // DONE: Use the variable we just created to show the converted time in the "display" div.
    $("#display").text(converted);
  },
  timeConverter: function(t) {

    var minutes = Math.floor(t / 60);
    var seconds = t - (minutes * 60);

    if (seconds <= 10) {
      seconds = "0" + seconds;
    }

    if (minutes === 0) {
      minutes = "00";
    }
    return minutes + ":" + seconds;   
  }

};

//  FUNCTIONS //

// Let's write things on the page
 // Function to render questions.
 
 function renderQuestion() {
      // If there are still more questions, render the next one.
      if (questionIndex <= (quizQuestions.length - 1)) {
        document.querySelector("#question-text").innerHTML = quizQuestions[questionIndex].question;
        document.querySelector("#a-text").innerHTML = quizQuestions[questionIndex].answers.a;
        document.querySelector("#b-text").innerHTML = quizQuestions[questionIndex].answers.b;
        document.querySelector("#c-text").innerHTML = quizQuestions[questionIndex].answers.c;
      }
      // If there aren't, render the end game screen.
      else {
        document.querySelector("#question-text").innerHTML = "Game Over!";
        document.querySelector("#finalScore-text").innerHTML = correct + " out of " + quizQuestions.length;
      }
    };

function resetGame () {
    // We start the game with a score of 0.
    correct = 0;
    wrong = 0;
    questionIndex = 0;
    // Let's write things on the page
    $("#correct-text").text(correct);
    $("#wrong-text").text(wrong);
    $("#finalScore-text").text(0);

    renderQuestion();
}

 // EXECUTE STUFF //
 
 //  Start on click.
$("#start").on("click", function() {

    if ( watch.time === 10){
    watch.start();
    }
    if (watch.time === 0){
    watch.stop();
    };
    renderQuestion();
    
}
);

//  Stop on click.
$("#a-text").on("click", function() {
    watch.stop();
      
   var a = quizQuestions[questionIndex].answers.a

    if (a === quizQuestions[questionIndex].correctAnswer) {
        correct ++;
        $("#correct-text").text(correct);
    }
    else {
        wrong++;
        $("#wrong-text").text(wrong);
    }

    watch.reset();
    watch.start();

    // Increment the questionIndex variable and call the renderQuestion function.
    questionIndex++;
    renderQuestion();
});
     
//  Stop on click.
$("#b-text").on("click", function() {
    watch.stop();

    
    var b = quizQuestions[questionIndex].answers.b

    if (b === quizQuestions[questionIndex].correctAnswer) {
        correct ++;
        $("#correct-text").text(correct);
    }
    else {
        wrong++;
        $("#wrong-text").text(wrong);
    }

    watch.reset();
    watch.start();

    // Increment the questionIndex variable and call the renderQuestion function.
    questionIndex++;
    renderQuestion();
});

//  Stop on click.
$("#c-text").on("click", function() {
    watch.stop();

    var c = quizQuestions[questionIndex].answers.c

    if (c === quizQuestions[questionIndex].correctAnswer) {
        correct ++;
        $("#correct-text").text(correct);
    }
    else {
        wrong++;
        $("#wrong-text").text(wrong);
    }

    watch.reset();
    watch.start();
    
    // Increment the questionIndex variable and call the renderQuestion function.
    questionIndex++;
    renderQuestion();
});


//  Stop on click.
$("#reset").on("click", function() {
    watch.reset();
    resetGame();

    }
    );

</script>

</body>
</html>